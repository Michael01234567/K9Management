# Environment Variables Guide

This document explains the environment variables used in the K9 Management Application.

## Quick Setup

1. **Copy the example file:**
   ```bash
   cp .env.example .env
   ```

2. **Get your Supabase credentials:**
   - Go to [Supabase Dashboard](https://app.supabase.com)
   - Select your project
   - Navigate to **Settings** > **API**
   - Copy the **Project URL** and **anon/public key**

3. **Update your .env file:**
   - Replace `VITE_SUPABASE_URL` with your Project URL
   - Replace `VITE_SUPABASE_ANON_KEY` with your anon/public key

4. **Restart the development server:**
   ```bash
   npm run dev
   ```

## Environment Variables

### VITE_SUPABASE_URL
- **Description:** Your Supabase project URL
- **Example:** `https://your-project-id.supabase.co`
- **Required:** Yes
- **Where to find:** Supabase Dashboard > Settings > API > Project URL

### VITE_SUPABASE_ANON_KEY
- **Description:** Supabase anonymous/public API key
- **Example:** `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`
- **Required:** Yes
- **Where to find:** Supabase Dashboard > Settings > API > Project API keys > anon/public
- **Security Note:** This key is safe to use in client-side code as it works with Row Level Security (RLS)

## Important Notes

### Vite Environment Variables
- All environment variables must be prefixed with `VITE_` to be exposed to the client-side code
- Vite only replaces variables at build time, so changes require restarting the dev server

### Security
- The `.env` file is listed in `.gitignore` and should never be committed to version control
- The `.env.example` file is a template and can be safely committed
- The anon/public key is designed to be used in client-side code and is protected by Row Level Security
- Never share or commit your `.env` file with actual credentials

### Troubleshooting

**Error: "Missing Supabase environment variables"**
- Make sure your `.env` file exists in the project root
- Verify that both `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY` are set
- Ensure there are no typos in the variable names
- Restart your development server after making changes

**Environment variables not updating**
- Stop the development server (Ctrl+C)
- Start it again with `npm run dev`
- Vite only loads environment variables on startup

**Connection errors to Supabase**
- Verify your Project URL is correct and accessible
- Check that your anon key matches your project
- Ensure your Supabase project is active and not paused

## File Structure

```
project-root/
├── .env                 # Your actual environment variables (git-ignored)
├── .env.example         # Template for new developers (tracked in git)
└── .env.README.md       # This documentation file
```

## For New Team Members

If you're new to the project:
1. Ask your team lead for the `.env` file or Supabase credentials
2. Follow the Quick Setup instructions above
3. Test your setup by running `npm run dev`
4. If you encounter issues, check the Troubleshooting section

## Additional Resources

- [Vite Environment Variables Documentation](https://vitejs.dev/guide/env-and-mode.html)
- [Supabase JavaScript Client Documentation](https://supabase.com/docs/reference/javascript/introduction)
- [Supabase Row Level Security Guide](https://supabase.com/docs/guides/auth/row-level-security)
